DEBUG - 2025-10-29 14:00:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 14:00:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 14:00:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 14:00:45 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 14:00:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 14:00:45 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 14:00:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 14:00:45 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 14:00:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-10-29 20:02:58 --> CodeIgniter\Security\Exceptions\SecurityException: The action you requested is not allowed.
[Method: POST, Route: login]
in SYSTEMPATH\Security\Security.php on line 262.
 1 SYSTEMPATH\Security\Security.php(262): CodeIgniter\Security\Exceptions\SecurityException::forDisallowedAction()
 2 SYSTEMPATH\Filters\CSRF.php(52): CodeIgniter\Security\Security->verify(Object(CodeIgniter\HTTP\IncomingRequest))
 3 SYSTEMPATH\Filters\Filters.php(241): CodeIgniter\Filters\CSRF->before(Object(CodeIgniter\HTTP\IncomingRequest), null)
 4 SYSTEMPATH\Filters\Filters.php(221): CodeIgniter\Filters\Filters->runBefore([...])
 5 SYSTEMPATH\CodeIgniter.php(479): CodeIgniter\Filters\Filters->run('login', 'before')
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:03:05 --> CodeIgniter\Security\Exceptions\SecurityException: The action you requested is not allowed.
[Method: POST, Route: login]
in SYSTEMPATH\Security\Security.php on line 262.
 1 SYSTEMPATH\Security\Security.php(262): CodeIgniter\Security\Exceptions\SecurityException::forDisallowedAction()
 2 SYSTEMPATH\Filters\CSRF.php(52): CodeIgniter\Security\Security->verify(Object(CodeIgniter\HTTP\IncomingRequest))
 3 SYSTEMPATH\Filters\Filters.php(241): CodeIgniter\Filters\CSRF->before(Object(CodeIgniter\HTTP\IncomingRequest), null)
 4 SYSTEMPATH\Filters\Filters.php(221): CodeIgniter\Filters\Filters->runBefore([...])
 5 SYSTEMPATH\CodeIgniter.php(479): CodeIgniter\Filters\Filters->run('login', 'before')
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:03:07 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:03:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:04:34 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:04:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:04:39 --> CSRF token verified.
WARNING - 2025-10-29 20:04:39 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:04:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:04:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:04:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:05:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:06:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:07:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:07:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:07:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:07:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:07:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:07:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:07:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:09:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:09:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:12:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:12:04 --> CSRF token verified.
DEBUG - 2025-10-29 20:12:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:12:04 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:12:04 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:12:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:12:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:12:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:12:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:12:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:12:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:13:01 --> CSRF token verified.
DEBUG - 2025-10-29 20:13:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:13:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:13:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:13:46 --> CSRF token verified.
DEBUG - 2025-10-29 20:13:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:13:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:13:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:13:57 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:13:57 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:14:16 --> CSRF token verified.
DEBUG - 2025-10-29 20:14:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:14:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:14:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:14:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:14:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:14:42 --> CSRF token verified.
DEBUG - 2025-10-29 20:14:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:14:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:14:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:14:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:16:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:17:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:17:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:17:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:17:16 --> Falling back to SVG barcode rendering: Neither gd-lib or imagick are installed! APPPATH\Libraries\Barcode\Renderers\PngRenderer.php:30
DEBUG - 2025-10-29 20:18:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:18:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:18:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:19:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:19:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:19:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:19:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:19:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:19:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:19:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:20:10 --> CSRF token verified.
DEBUG - 2025-10-29 20:20:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:20:10 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:20:10 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:20:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:20:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:20:54 --> CSRF token verified.
DEBUG - 2025-10-29 20:20:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:20:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:20:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:20:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:21:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:22:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:22:11 --> CSRF token verified.
DEBUG - 2025-10-29 20:22:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:22:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:22:58 --> [DEPRECATED] Creation of dynamic property App\Controllers\Purchases::$M_stores is deprecated in APPPATH\Controllers\Purchases.php on line 532.
 1 APPPATH\Controllers\Purchases.php(522): App\Controllers\Purchases->getCompanyInfo()
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Purchases->print('36')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Purchases))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:23:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:23:16 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:23:16 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:23:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:23:25 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:23:25 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:23:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:23:51 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:23:51 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:24:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:24:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:24:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:24:27 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:24:27 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:24:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:24:34 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:24:35 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:24:35 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:24:35 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:24:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:24:35 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:24:35 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:24:35 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:24:35 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:24:57 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:24:57 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:24:57 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-30\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-30\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:24:57 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-30\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-30\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-30\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:24:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:24:57 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-30'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:24:57 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-30'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:24:57 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-30'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-30\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-30\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:24:57 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-30'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-30\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-30\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-30\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:25:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:25:07 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:25:07 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:25:07 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-29\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-29\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:25:07 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-29\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-29\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-29\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:25:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:25:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:25:07 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-29'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:25:07 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-29'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:25:07 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-29'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-29\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-29\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:25:07 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-29'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-29\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-29\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-29\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:26:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:26:36 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:26:36 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
[Method: GET, Route: reports/purchases/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:26:36 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:26:36 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:26:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:26:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:27:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:27:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\Analytics::$saleModel is deprecated in APPPATH\Controllers\Analytics.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Analytics->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:28:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:28:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:28:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:28:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:29:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:29:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:29:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:29:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:29:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:29:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:30:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:30:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:30:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:30:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:30:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:30:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:31:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:31:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:31:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:31:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:32:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:32:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:32:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:32:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:33:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:33:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:33:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:34:15 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:34:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:34:16 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:34:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:34:22 --> CSRF token verified.
WARNING - 2025-10-29 20:34:22 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:34:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:34:22 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:34:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:34:25 --> CSRF token verified.
WARNING - 2025-10-29 20:34:25 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:34:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:35:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:36:00 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:36:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:36:01 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:36:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:36:04 --> CSRF token verified.
WARNING - 2025-10-29 20:36:04 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:36:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:36:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:37:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:37:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:38:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:38:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:38:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:38:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:38:40 --> CSRF token verified.
DEBUG - 2025-10-29 20:38:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:38:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:38:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:38:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:39:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:39:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:39:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-29 20:39:25 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-29 20:39:25 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:39:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:40:06 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:40:06 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:06 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:06 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:40:06 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:40:06 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:06 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:06 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:40:12 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:40:12 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:12 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:12 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-29\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:40:12 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:40:12 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:12 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:12 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:40:20 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:40:20 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:20 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-30\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-30\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:20 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-30\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-30\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-30\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:40:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:40:20 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:40:20 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:20 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-30\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-30\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:40:20 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-30\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-30\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-30\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:40:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:40:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-29 20:41:24 --> CSRF token verified.
DEBUG - 2025-10-29 20:41:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:41:44 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:41:44 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
[Method: GET, Route: reports/purchases/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:41:44 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:41:44 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:41:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-29 20:41:50 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-29 20:41:50 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
[Method: GET, Route: reports/purchases/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:41:50 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-29 20:41:50 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-29\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-29 20:41:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:41:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-29 20:42:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
