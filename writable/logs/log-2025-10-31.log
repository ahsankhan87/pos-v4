DEBUG - 2025-10-31 18:56:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 18:56:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 18:56:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 18:56:03 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 18:56:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 18:56:03 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 18:56:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 18:56:04 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 18:56:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 18:56:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 18:56:08 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 18:56:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 18:56:13 --> CSRF token verified.
WARNING - 2025-10-31 18:56:13 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 18:56:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 18:56:14 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 18:56:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 18:56:18 --> CSRF token verified.
WARNING - 2025-10-31 18:56:18 --> [DEPRECATED] Creation of dynamic property App\Controllers\Auth::$storeModel is deprecated in APPPATH\Controllers\Auth.php on line 16.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Auth->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 18:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 18:56:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:29:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:29:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:30:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 19:30:43 --> CSRF token verified.
DEBUG - 2025-10-31 19:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 19:32:30 --> CSRF token verified.
DEBUG - 2025-10-31 19:32:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 19:32:30 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 19:32:30 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 19:32:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:32:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 19:32:59 --> CSRF token verified.
DEBUG - 2025-10-31 19:33:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 19:33:00 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 19:33:00 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 19:33:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:33:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:34:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:34:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:34:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:34:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:34:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:34:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 19:34:51 --> CSRF token verified.
DEBUG - 2025-10-31 19:34:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:35:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:35:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:42:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:42:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:42:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:43:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:43:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 19:43:59 --> CSRF token verified.
DEBUG - 2025-10-31 19:43:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:44:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:46:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:48:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:48:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:49:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:49:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 19:51:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:25:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:25:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:25:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:25:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:26:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:26:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:26:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:29:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:40:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:40:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 20:40:35 --> CSRF token verified.
ERROR - 2025-10-31 20:40:36 --> mysqli_sql_exception: Unknown column 'discount_type' in 'field list' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `po...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `po...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `po...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `po...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 D:\xampp\htdocs\kasbook\pos-v4\system\BaseModel.php(843): CodeIgniter\Model->doInsert(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\Model.php(800): CodeIgniter\BaseModel->insert(Array, true)
#7 D:\xampp\htdocs\kasbook\pos-v4\app\Models\PurchaseModel.php(134): CodeIgniter\Model->insert(Array)
#8 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Purchases.php(204): App\Models\PurchaseModel->insertPurchase(Array, Array)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Purchases->store()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Purchases))
#11 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 {main}
DEBUG - 2025-10-31 20:40:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:40:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:40:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 20:40:53 --> CSRF token verified.
ERROR - 2025-10-31 20:40:53 --> mysqli_sql_exception: Unknown column 'discount_type' in 'field list' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `po...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `po...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `po...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `po...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 D:\xampp\htdocs\kasbook\pos-v4\system\BaseModel.php(843): CodeIgniter\Model->doInsert(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\Model.php(800): CodeIgniter\BaseModel->insert(Array, true)
#7 D:\xampp\htdocs\kasbook\pos-v4\app\Models\PurchaseModel.php(134): CodeIgniter\Model->insert(Array)
#8 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Purchases.php(204): App\Models\PurchaseModel->insertPurchase(Array, Array)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Purchases->store()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Purchases))
#11 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 {main}
DEBUG - 2025-10-31 20:40:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:58:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:58:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:58:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:58:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:58:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:58:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:58:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 20:58:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:13:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:14:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:14:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:14:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:14:18 --> CSRF token verified.
DEBUG - 2025-10-31 21:14:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:18:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:18:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:18:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:19:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:19:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:19:42 --> CSRF token verified.
DEBUG - 2025-10-31 21:19:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:19:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:19:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:19:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:23:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:23:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:23:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:24:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:24:19 --> CSRF token verified.
DEBUG - 2025-10-31 21:24:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:25:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 21:25:12 --> [DEPRECATED] Creation of dynamic property App\Controllers\Purchases::$M_stores is deprecated in APPPATH\Controllers\Purchases.php on line 547.
 1 APPPATH\Controllers\Purchases.php(537): App\Controllers\Purchases->getCompanyInfo()
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Purchases->print('39')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Purchases))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 21:27:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:27:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:28:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:28:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:30:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:30:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:32:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:32:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:34:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:34:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:38:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:38:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:40:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:40:27 --> CSRF token verified.
DEBUG - 2025-10-31 21:40:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:48:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:48:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:48:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:48:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:48:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:49:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 21:49:42 --> [DEPRECATED] Creation of dynamic property App\Controllers\Purchases::$M_stores is deprecated in APPPATH\Controllers\Purchases.php on line 547.
 1 APPPATH\Controllers\Purchases.php(537): App\Controllers\Purchases->getCompanyInfo()
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Purchases->print('39')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Purchases))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 21:49:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:49:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:49:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 21:49:56 --> [DEPRECATED] Creation of dynamic property App\Controllers\Purchases::$M_stores is deprecated in APPPATH\Controllers\Purchases.php on line 547.
 1 APPPATH\Controllers\Purchases.php(537): App\Controllers\Purchases->getCompanyInfo()
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Purchases->print('40')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Purchases))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 21:50:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:50:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:50:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:50:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:50:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:50:44 --> CSRF token verified.
DEBUG - 2025-10-31 21:50:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:50:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:50:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:51:19 --> CSRF token verified.
DEBUG - 2025-10-31 21:51:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:51:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:52:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:52:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:52:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:52:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:52:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:52:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:53:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:54:34 --> CSRF token verified.
DEBUG - 2025-10-31 21:54:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 21:54:34 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 21:54:34 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 21:54:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:54:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:55:47 --> CSRF token verified.
DEBUG - 2025-10-31 21:55:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:55:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:56:13 --> CSRF token verified.
DEBUG - 2025-10-31 21:56:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:56:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:57:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:57:02 --> CSRF token verified.
DEBUG - 2025-10-31 21:57:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 21:57:02 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 21:57:02 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 21:57:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:57:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:57:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:57:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:57:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:57:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:57:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:57:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:58:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:58:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:58:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:58:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:58:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:58:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:58:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:58:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 21:58:30 --> CSRF token verified.
DEBUG - 2025-10-31 21:58:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 21:58:30 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 21:58:30 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 21:58:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 21:59:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:00:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:00:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:00:12 --> CSRF token verified.
DEBUG - 2025-10-31 22:00:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:00:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:00:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:00:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:00:19 --> CSRF token verified.
DEBUG - 2025-10-31 22:00:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:00:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:00:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:04:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:05:31 --> CSRF token verified.
DEBUG - 2025-10-31 22:05:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:05:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-10-31 22:05:54 --> Error: Call to undefined function App\Controllers\generate_barcode()
[Method: GET, Route: products/barcode_image/1]
in APPPATH\Controllers\Products.php on line 377.
 1 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Products->barcode_image('1')
 2 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Products))
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:06:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:06:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:06:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:06:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:06:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:06:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:06:19 --> Falling back to SVG barcode rendering: Neither gd-lib or imagick are installed! APPPATH\Libraries\Barcode\Renderers\PngRenderer.php:30
DEBUG - 2025-10-31 22:08:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:10:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:10:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:10:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:10:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:10:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:11:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:11:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:11:42 --> CSRF token verified.
DEBUG - 2025-10-31 22:11:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:12:20 --> CSRF token verified.
DEBUG - 2025-10-31 22:12:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:12:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:12:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:12:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:12:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:12:46 --> CSRF token verified.
DEBUG - 2025-10-31 22:12:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:12:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:12:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:14:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:15:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:15:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:15:37 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:15:37 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:15:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:17:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:17:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:17:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:17:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:17:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:17:10 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:17:10 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:17:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:17:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:17:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:17:15 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:17:15 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:19:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:19:00 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:19:00 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:19:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:19:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:19:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:19:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:19:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:19:17 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:19:17 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:19:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:19:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:19:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:19:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:19:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:19:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:20:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:20:32 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:20:32 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:20:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:20:40 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:20:40 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:20:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:20:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:20:49 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:20:49 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:20:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:20:50 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:20:50 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:22:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:22:55 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:22:55 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:22:55 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:22:55 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:22:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:22:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:22:55 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:22:55 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:22:55 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:22:55 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:22:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:23:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:25:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:25:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:25:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:26:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:26:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:27:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:27:50 --> CSRF token verified.
DEBUG - 2025-10-31 22:27:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:28:04 --> CSRF token verified.
DEBUG - 2025-10-31 22:28:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:28:43 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:28:43 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:28:43 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:28:43 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:28:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:28:44 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:28:44 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:28:44 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:28:44 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:28:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:28:52 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:28:52 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
[Method: GET, Route: reports/purchases/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:28:52 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:28:52 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:28:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:29:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:29:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:30:38 --> CSRF token verified.
DEBUG - 2025-10-31 22:30:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:30:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:31:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:32:15 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:32:15 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:32:15 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:32:15 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:32:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:32:15 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:32:15 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:32:15 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:32:15 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:32:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:32:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:33:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:35:38 --> CSRF token verified.
DEBUG - 2025-10-31 22:35:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:35:43 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:35:43 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:43 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:43 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:35:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:35:44 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:35:44 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:44 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:44 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:35:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:35:45 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:35:45 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:45 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:45 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:35:45 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:35:45 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:45 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:45 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:35:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:35:52 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:35:52 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
[Method: GET, Route: reports/purchases/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:52 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:35:52 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:35:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:36:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:36:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:36:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:36:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:36:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:36:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:36:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:36:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:37:05 --> CSRF token verified.
DEBUG - 2025-10-31 22:37:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 22:37:05 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 22:37:05 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:37:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:37:38 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:37:38 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:37:38 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:37:38 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:37:38 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:37:38 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:37:38 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:37:38 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:37:45 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:37:45 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:37:45 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:37:45 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:37:45 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:37:45 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:37:45 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:37:45 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:38:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:38:42 --> mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause' in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:38:42 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
[Method: GET, Route: reports/sales/category-mix]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:38:42 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:38:42 --> [Caused by] mysqli_sql_exception: Unknown column 'p.category_id' in 'on clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= \'2025-10-01\'
AND DATE(s.created_at) <= \'2025-10-31\'
AND `s`.`store_id` = \'1\'
GROUP BY `category`
ORDER BY `revenue` DESC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(c.name, "Uncategorized") as category, COALESCE(SUM(si.quantity), 0) as qty, COALESCE(SUM(si.subtotal), 0) as revenue
FROM `pos_sale_items` `si`
JOIN `pos_sales` `s` ON `s`.`id` = `si`.`sale_id`
LEFT JOIN `pos_products` `p` ON `p`.`id` = `si`.`product_id`
LEFT JOIN `pos_categories` `c` ON `c`.`id` = `p`.`category_id`
WHERE DATE(s.created_at) >= :DATE(s.created_at):
AND DATE(s.created_at) <= :DATE(s.created_at).1:
AND `s`.`store_id` = :s.store_id:
GROUP BY `category`
ORDER BY `revenue` DESC', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(147): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(65): App\Services\Reports\SalesReports->getCategoryBreakdown([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->categoryMix()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:38:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:38:42 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:38:43 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
[Method: GET, Route: reports/sales/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:38:43 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:38:43 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'
AN...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_sales_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\SalesReports.php(275): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Sales.php(95): App\Services\Reports\SalesReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Sales->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Sales))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:39:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:40:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:40:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:40:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:40:35 --> CSRF token verified.
DEBUG - 2025-10-31 22:40:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:40:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:40:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:43:38 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:43:38 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
[Method: GET, Route: reports/purchases/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:43:38 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:43:38 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:43:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:43:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:44:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:44:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:44:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:44:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 22:44:23 --> CSRF token verified.
DEBUG - 2025-10-31 22:44:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:44:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:44:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:44:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:44:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-10-31 22:45:27 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1 in D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\xampp\htdocs\kasbook\pos-v4\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE...', 0)
#1 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE...')
#2 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE...')
#3 D:\xampp\htdocs\kasbook\pos-v4\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE...', Array, false)
#4 D:\xampp\htdocs\kasbook\pos-v4\app\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
#5 D:\xampp\htdocs\kasbook\pos-v4\app\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary(Array)
#6 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
#7 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
#8 D:\xampp\htdocs\kasbook\pos-v4\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#10 D:\xampp\htdocs\kasbook\pos-v4\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 D:\xampp\htdocs\kasbook\pos-v4\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2025-10-31 22:45:27 --> CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
[Method: GET, Route: reports/purchases/returns-summary]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 2 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 3 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 5 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 6 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:45:27 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 4 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 5 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-10-31 22:45:27 --> [Caused by] mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= '2025-10-01'...' at line 1
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= \'2025-10-01\'
AND DATE(r.created_at) <= \'2025-10-31\'
AND `r`.`store_id` = \'1\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT COALESCE(SUM(r.return_amount), 0) as returns_total, COALESCE(SUM(r.quantity), 0) as returns_qty, COUNT(*) as rows
FROM `pos_purchase_returns` `r`
WHERE DATE(r.created_at) >= :DATE(r.created_at):
AND DATE(r.created_at) <= :DATE(r.created_at).1:
AND `r`.`store_id` = :r.store_id:', [...], false)
 5 APPPATH\Services\Reports\PurchaseReports.php(130): CodeIgniter\Database\BaseBuilder->get()
 6 APPPATH\Controllers\Reports\Purchases.php(59): App\Services\Reports\PurchaseReports->getReturnsSummary([...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Reports\Purchases->returnsSummary()
 8 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Reports\Purchases))
 9 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 22:45:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:45:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:46:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:46:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:46:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:46:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:46:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:46:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:52:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 22:52:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:02:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:02:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:03:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:03:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:03:24 --> CSRF token verified.
DEBUG - 2025-10-31 23:03:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:03:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:03:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:04:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:04:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:04:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:04:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:04:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:04:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:04:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:04:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:20:33 --> CSRF token verified.
DEBUG - 2025-10-31 23:20:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:20:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:21:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:21:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:21:14 --> CSRF token verified.
DEBUG - 2025-10-31 23:21:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:21:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:21:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:21:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:21:32 --> CSRF token verified.
DEBUG - 2025-10-31 23:21:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:21:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:22:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:22:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:24:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:24:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:24:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:24:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:24:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:39:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:39:11 --> CSRF token verified.
DEBUG - 2025-10-31 23:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:39:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:39:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:39:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:39:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:41:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:41:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:41:45 --> CSRF token verified.
DEBUG - 2025-10-31 23:41:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:41:59 --> CSRF token verified.
DEBUG - 2025-10-31 23:41:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:42:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:42:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:42:04 --> CSRF token verified.
DEBUG - 2025-10-31 23:42:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:42:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:42:17 --> CSRF token verified.
DEBUG - 2025-10-31 23:42:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:43:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:43:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:43:13 --> CSRF token verified.
DEBUG - 2025-10-31 23:43:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:43:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:43:16 --> CSRF token verified.
DEBUG - 2025-10-31 23:43:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:43:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:43:20 --> CSRF token verified.
DEBUG - 2025-10-31 23:43:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:44:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:44:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:44:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:45:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:45:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:45:33 --> CSRF token verified.
DEBUG - 2025-10-31 23:45:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:45:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:45:54 --> CSRF token verified.
DEBUG - 2025-10-31 23:45:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 23:45:55 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 23:45:55 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 23:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:46:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:46:52 --> CSRF token verified.
DEBUG - 2025-10-31 23:46:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:47:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:47:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:47:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:48:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:48:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:48:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:49:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:50:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:50:00 --> CSRF token verified.
DEBUG - 2025-10-31 23:50:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-10-31 23:50:00 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_sales is deprecated in APPPATH\Controllers\Receipts.php on line 14.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-10-31 23:50:00 --> [DEPRECATED] Creation of dynamic property App\Controllers\Receipts::$M_stores is deprecated in APPPATH\Controllers\Receipts.php on line 15.
 1 SYSTEMPATH\CodeIgniter.php(903): App\Controllers\Receipts->__construct()
 2 SYSTEMPATH\CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 3 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 4 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 5 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 6 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-10-31 23:50:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:50:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:50:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:50:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:50:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:51:25 --> CSRF token verified.
DEBUG - 2025-10-31 23:51:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:51:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:52:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:52:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:52:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:52:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:52:52 --> CSRF token verified.
DEBUG - 2025-10-31 23:52:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:52:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:52:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:55:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:55:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:55:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:55:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:55:42 --> CSRF token verified.
DEBUG - 2025-10-31 23:55:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:55:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:55:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:57:22 --> CSRF token verified.
DEBUG - 2025-10-31 23:57:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:57:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:58:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:58:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:58:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:58:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-10-31 23:58:31 --> CSRF token verified.
DEBUG - 2025-10-31 23:58:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:58:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:58:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:58:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-10-31 23:58:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
